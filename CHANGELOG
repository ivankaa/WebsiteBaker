Change Log
===============================================================================
Please note: This change log may not be accurate

$Id$

Legend:
+ = Added
- = Removed
# = Bugfix
! = Update/Change

------------------------------------- 2.7.0 -------------------------------------
09-Feb-2008
!	jsadmin: added latest changes from swen, fixes most (or all?) issues.
08-Feb-2008 Matthias Gallas
+	added kewyword id to all new files
08-Feb-2008 Christian Sommer
-	Removed admin module mail_filter
+	Added revised version of the output filter module
08-Feb-2008 Thomas Hornik
!	module news: set focus on captcha-field if user have to re-enter captcha
!	Changed maxlength of captcha-fields - don't tell the bots how many chars we want to have.
-	Removed unused function is_access_denied() from search
04-Feb-2008 Thomas Hornik
!	email-addresses are excluded from search-results page.
#	Fixed possible XSS in account/login.php and forgot-form.php
04-Feb-2008 Christian Sommer
#	allowed usage of tags in settings fields: website_header, website_footer
03-Feb-2008 Thomas Hornik
#	out-of-date default page isn't shown anymore, instead shows next public page.
#	fck_wbmodules.php: foreign privates pages in dropdown, fixed.
03-Feb-2008 Matthias Gallas
+	added kewyword id to all new files
02-Feb-2008 Christian Sommer
#	fixed wrong redirect in /admin/images
02-Feb-2008 Thomas Hornik
!	search shows email-addresses, even if email-filter is activated (on page with highlighting). Fixed.
+	Added missing text in languages files for jscalendar
!	settings: pages-directory '/' will be converted to '' (empty string) on save.
!	changed last remaining call to my_htmlspecialchars() to htmlspecialchars()
#	fixed path in jscalendar-css
01-Feb-2008 Christian Sommer
#	Added default index.php to all folders to prevent directory spoofing
01-Feb-2008 Thomas Hornik
#	Added some missing add_slashes(), get_post_escaped(), and strip_tags() for $_POST, $_GET and $_REQUEST-data. Also for $_SERVER['PHP_SELF'].
#	Fixed possible XSS-vulnerability in wb/search/search.php
31-Jan-2008 Thomas Hornik
!	Adjusted clock-red icon to match wb colors
#	admin/pages: the parent dropdown-list in index.php and settings.php showed foreign private pages, too. Fixed.
+	Added multi-group to upgrade-script
30-Jan-2008 Christian Sommer
#	fixed bug with text Captcha (input was restricted to 10 chars.) and a small layout issue
30-Jan-2008 Thomas Hornik
#	registered pages didn't appear in menu. fixed.
!	Updated upgrade-script. (Some upgrades still missing)
29-Jan-2008 Thomas Hornik
#	strtotime()'s behavior differ in PHP4 and PHP5.
	Had to fix some issues in admin/pages/sections and module news.
#	Security bugfix: Text file for text-captcha was world-readable. Moved to database.
#	Text-captcha: empty line in text file, following a question, was accepted as answer. Fixed.
28-Jan-2008 Matthias Gallas
#	Replaced all special chars in language files with htmlentities or unicode
+	Added some missing lines in language files
+	Added missing keyword Id
28-Jan-2008 Christian Sommer
#	fixed issue with top bar icon alt tag
!	added some more backend layout modifications
!	corrected bug in NL.php language file
!	added missing session cookie forgotten in Changeset 593
!	added possibility to select the default backend language during installation process
!	Re-introduced Changeset 593 (filename in pages/ from page_title instead of menu_title)
#	Fixed some bugs in the Javascript Admin modul
28-Jan-2008 Thomas Hornik
+	Allow a user-supplied From-Name in form-settings for email und success-email.
!	changeset 627: menu_link and search/search.php needs some minor changes, too.
+	Added Text-CAPTCHA on request. The captcha-text will be stored in temp/.captcha_text.txt
27-Jan-2008 Christian Sommer
!	fixed CSS background color of the installer CSS
!	replaced static text with variable text from language file
!	introduced the WB 2.7 backend style developed by Michael Brinsteiner (escpro), thanks man
!	added missing ID tags
27-Jan-2008 Christian Sommer
!	added missing ID tags
!	added default language for users to avoid empty language fields
27-Jan-2008 Matthias Gallas
+	added kewyword id to new file
#	Fixed some spelling errors in german language file
27-Jan-2008 Thomas Hornik
!	Module form: user supplied input isn't lost on captcha-failure anymore.
#	fixed 100%-cpu-load-event in CAPTCHA admin-tool.
+	Added Calc_ttf_image CAPTCHA.
!	Changed captcha/captcha.php to use table-layout for CAPTCHA.
!	Some minor changes in CAPTCHA-code.
!	Added some text to CAPTCHA admin-tool.
#	Module form: dropdown "success page" listed foreign private pages, too. Fixed.
+	Added preview-images for CAPTCHA.
!	Improved security: CAPTCHAS can't be loaded from outside WB
!	CAPTCHA ttf_image: added variant. Adjusted character-pool and one background for better readability.
26-Jan-2008 Christian Sommer
!	changed WYSIWYG content field from text to longtext (allows more than 65'534 characters) 
+	Added Javascript Admin module (developed by Stepan Riha, adapted for WB2.7 by Swen Uth)
26-Jan-2008 Matthias Gallas
#	fixed bug in Javascript Admin module
+	Added new language files
+	Added keywords to files where they are missing
26-Jan-2008 Thomas Hornik
!	fixed some issues with CAPTCHA and ASP. Adjusted baseline of '*' in supplyed fonts to meet
	baseline of numbers. Added counter to ttf_image generation-loop. Removed now unneeded GD-lib verification.
	Improved ASP in news-module.
+	module news: added publish_until field to control the visibility of a news-posting by date and time
!	added strongly "condensed" fonts with many intersections for ttf-CAPTCHA as default fonts.
	It should be very difficult for spam-bots to recognize intersected characters.
25-Jan-2008 Christian Sommer
!	removed changes introduced with changeset 593 (we need to think off if we want to implement that feature)
25-Jan-2008 Thomas Hornik
+	Added new CAPTCHA. Adapted core: signup and modules: news and form.
+	Added Advanced Spam Protection (ASP) to core: signup and modules news and form.
#	module news: it was possible to post comments to postings with commenting disabled
	or to inactive postings. Fixed
24-Jan-2008 Thomas Hornik
!	Generate filename in pages/ from page_title instead of menu_title.
24-Jan-2008 Christian Sommer
#	fixed bug in Codepress integration (if codepress framework not installed)
+	added language support to all integrated modules (except for news and form module)
#	fixed another E_NOTICE warning
24-Jan-2008 Matthias Gallas
+	Added keywords to files where they are missing
23-Jan-2008 Christian Sommer
+	Added German language file for WB 2.7
22-Jan-2008 Christian Sommer
+	Added language support for the Admin tools (backup, reload, mail_filter)
-	Removed all admin tool text outputs from global language file to module language files
!	Introduced language support for the overview page of the Admin tools
+	Added function get_variable_content to allow extraction of variable content without including files
!	Changed language support for Addons -> Moduls -> Details
22-Jan-2008 Matthias Gallas
+	Added keywords to new mail filter files
22-Jan-2008 Thomas Hornik
+	manage-sections: changed calendar-icon to clock-icon, added second icon to empty date-field.
21-Jan-2008 Christian Sommer
!	Removed the manage section icon from the page admin (sections managed by publish by date function) 
#	Fixed bug with the edit module CSS file implementation (IE7, Opera)
21-Jan-2008 Thomas Hornik
+	Unique session-identifier for each website baker installation. fixes #354
20-Jan-2008 Christian Sommer
#	fixed E_NOTICE-warning in save.php when input data was wrong
+	added the new admin tool email output filter which allows to transform
	emails before displaying them on the frontend
20-Jan-2008 Thomas Hornik
!	upgrade-script.php: fixed mysql_error() handling
!	upgrade-script.php: added code to update menu_links
#	fixed a typo in upgrade-script.php
!	updated admin/pages/sections.php to changed jscalendar-api from changeset 571
!	module menu_link: after adding a menu_link, the anchor dropdown shows "#"; fixed 
#	fixed E_NOTICE-warning in news-module (about SECTION_ID in comment.php)
19-Jan-2008 Christian Sommer
!	Reduced the success time out and set WYSIWSY background to white
#	Fixed some errors in form module (only in conjunction with E_ALL)
!	Added support to configure the mailer settings via the backend
19-Jan-2008 Matthias Gallas
#	Fixed bug in news modul with missing variable PAGE_DIRECTORY
+	Added keywords to new files
19-Jan-2008 Thomas Hornik
-	Module news: removed old calendar
+	Module news: adapted news to use the new include/jscalendar
+	added installation-instructions to include/jscalendar
#	Module code: curly backets get deleted by pparse() from phplib. fixed
+	Module menu_link: added dropdown-listbox to select anchor
!	upgrade-script: added code to convert old menu_links to new ones (partly)
18-Jan-2008 Matthias Gallas
!	Updated news modul with features from the advanced news modul
!	Updated form modul with features from the advanced form modul
#	Fixed hardcoded /pages issue in intro page feature
+	Added example .htaccess to parse .html files, fixed bug in changeset 555
!	Revoked parts of changeset 547 and again introduced changeset 540
+	Added keywords to modules/fckeditor and all other new files
18-Jan-2008 Thomas Hornik
#	fixed two E_NOTICE-warnings in admin/pages/index.php
+	added new module-based search-function
+	added new publish-by-date code
17-Jan-2008 Christian Sommer
#	fixed bug in frontend login and multiple groups (only in conjunction with E_ALL)
!	removed the PAGE_EXTENSION from frontend login
17-Jan-2008 Matthias Gallas
#	Reintroduced changes from changeset 520 and 540 wich where overwritten 
	by changeset 546
#	Revoked changeset 541 end removed all PAGE_EXTENSION variables and the related
	option in WB settings as this function only works on Apache Servers
	together with .htaccess and mod_rewrite
+	Added keywords to file menu_link/uninstall.php and new admintools files
17-Jan-2008 Christian Sommer
!	added the "users in multiple groups" feature (closes parts of ticket #546)
16-Jan-2008 Thomas Hornik
!	changed admin/pages/save.php to allow hidden config-elements in table search.
!	changed module menu_link: added table mod_menu_link, fixed page-deleting-bug,
	fixed odd behavior in case of menu_link as default-page.
#	changing PHP-error-level within website baker does not work - fixed (fixed ticket 532)
14-Jan-2008 Matthias Gallas
#	Replaced hardcoded .php with the variable PAGE_EXTENSION for the use in pagenames.
	(!!Attention!! To get extenions other than .php working additional fixes are necessary!)
#	Replaced the variable PAGE_EXTENSION with hardcoded .php on all places where the
	pathes points to WB Corefiles with the page extension .php
#	Replaced hardcoded text in login.php with language variables (fixes ticket 386)
14-Jan-2008 Christian Sommer
!	added a missing </tr> tag
#	re-introduced bugfix of Changeset 472 (fixes ticket 402) accidentally 
	removed by Changeset 529 (enhanced pages admin)
13-Jan-2008 Christian Sommer
#	moved administration tools from Settings to the new section Admin-Tools
#	this bugfix closes the ticket 529 (WB upgrades modules with identical version)	
!	increased redirection time after success message, corrected HOME link of the login panel
!	updated PHPMailer framework to version 2.0.0 (/include/phpmailer)
#	this bugfix closes ticket 412 (direct call of admin/settings/save.php clears database)
#	fixed error with redirection to admin panel after installation
12-Jan-2008 Christian Sommer
!	introduced smart URL detection for the 'View' menu in the WB backend
	(if page_id is set, redirect to this page instead of the root)
!	introduced the enhanced pages admin dialogue (thanks to icouto)
11-Jan-2008 Christian Sommer
+	added the FCKEditor module files missing in Changeset 527 (/modules/fckeditor)
-	removed the hmtlarea files in /modules/htmlarea
!	set the fckeditor as the new default editor /install/save.php
!	Updated function: register_frontend_modfiles in /framework/frontend.functions.php
	(added constants MOD_FRONTEND_CSS_REGISTERED, MOD_FRONTEND_JAVASCRIPT_REGISTERED)
11-Jan-2008 Matthias Gallas
!	Update codepress to Version 0.9.6
!	Update phplib to Version 7.4a
09-Jan-2008 Matthias Gallas
!	Upgrade pclzip to the newer more php5 complaint version 2.6, see ticket #526
#	Fixed ticket #542 (Thanks to Thorn)
23-Dec-2007 Matthias Gallas
!	Changed all copyright notices to include now 2008
21-Sep-2007 Matthias Gallas
#	Fixed a typo in /framework/frontend.functions.php cause that websites using
	the new register_frontend_modifles() functions do not validate
24-Jan-2007 Christian Sommer
!	Replaced some core files to allow configuration of wbmailer via admin settings panel
------------------------------------- 2.6.7 -------------------------------------
02-Jan-2007 Christian Sommer
+	Added missing converting file for changeset [504]
------------------------------------- 2.6.6 -------------------------------------
01-Jul-2007 Matthias Gallas
#	Fixed converting issue with some ISO-charsets and speeded up converting on large pages (thanks to Thorn)
01-Jul-2007 Ryan Djurovich
#	Fixed bug where error message not displayed when script fails to create a page
#	Fixed bugs introduced in [484]
14-May-2007 Matthias Gallas
+	Added support for ISO-8859-6.(Thanks to thorn)
12-May-2007 Christian Sommer
+	Replaced functions page_css and page_javascript by register_frontend_modfiles
+	Added function register_backend_modfiles to allow backend modules to use optional CSS and JS files
+	Added the JS framework codepress to allow syntax highlighting for JS, HTML, PHP code (textarea)
+	Added the new function register_frontend_modfiles to the built in templates
08-May-2007 Matthias Gallas
+	Added wrapper to functions.php if mb_string is not available (Thanks to thorn)
+	Added new functions page_css and page_javascript to the built in templates
+	Added search highlight class to css files of the built in templates
30-Apr-2007 Matthias Gallas
#	Fixed ticket #392; root_parent not being set correctly (Thanks to eggsurplus)
10-Apr-2007 Matthias Gallas
+	Optimized search and highlighting funktions (Thanks to thorn)
03-Apr-2007 Matthias Gallas
#	Fixed a bug in menulink; if you deleted a menulink page the linked page was also deleted
	in the pages directory (Special thanks to "Funky_MF" for the fix)
01-Apr-2007 Matthias Gallas
#	Fixed issues with some languages when UTF8 is used. Removed all htmlentites
	from the code (revoked changeset 396) and added new functions instead. Adapted the
	search and the highlighting to use the new functions. With this changes WB can now
	be used with charset UTF8 for all languages. Very special thanks to Thorn who wrote
	and tested this changes.
12-Mar-2007 Matthias Gallas
+	Added multilingual support to search
03-Mar-2007 Matthias Gallas
+	Added new function for highlighting search results in the content area
	(Special thanks to "thorn" and "Funky_MF")
#	Fixed some issues in search with special chars
	(Special thanks to "thorn" and "Funky_MF")
22-Feb-2007 Christian Sommer
#	Fixed bug in changeset 428 (page files were not deleted in /pages folder due to a typo in wb/framework/function.php)
16-Feb-2007 Christian Sommer
!	Suppressed PHP warnings and errors when reading empty intro.php
16-Feb-2007 Christian Sommer
#	Applied fix to enable parsing of PHP code in the intro.php 
12-Feb-2007 Christian Sommer
!	Added functions page_css and page_javascript which allow to include optional
	module files module.css and module.js into the <head> section. This allows to 
	create valid (X)HTML, as CSS definitions of modules are included in the head section
12-Feb-2007 Christian Sommer
!	Security enhancement (reduced number of login trials from 50 to 3)
02-Feb-2007 Matthias Gallas
#	Applied fix for ticket #380 (Thanks to pcwacht)
30-Jan-2007 Ryan Djurovich
#	Applied fix for ticket #376
29-Jan-2007 Matthias Gallas
+	Added new variable $MODULE_DESCRIPTION wich allows to have optional a language
	specific description of the modules in the language files of the modules.
21-Jan-2007 Matthias Gallas
#	Fixed issue in the search table entries of form modul
13-Jan-2007 Matthias Gallas
#	Fixed some bugs in rss.php
07-Jan-2007 Matthias Gallas
#	Fixed error when uninstalling the news modul
02-Jan-2007 Matthias Gallas
+   Added id keywords to all missing files
#	Fixed issue with Permissions for pages sections
27-Dec-2006 Matthias Gallas
#	Fixed form modul stores empty records
------------------------------------- 2.6.5 -------------------------------------
25-Dec-2006 Ryan Djurovich
!	Changed links to WB help website
24-Dec-2006 Matthias Gallas
#	Fixed some minor javascript errors in admin (thanks to pcwacht)
#	Fixed root_parent doesn't get updated when moving item in menu (#305)
!	Changed all copyright notices to include now 2007
23-Dec-2006 Matthias Gallas
#	Fixed IE allows to set a page as parent of itself (#320)
#	Fixed problem with Page Title has to be escaped (#287)
#	Fixed the possibility to call the index.php of the templates directly in the browser (#291)
21-Dec-2006 Matthias Gallas
#	Fixed missing message when adding a site without page title (#300)
21-Dec-2006 Ryan Djurovich
#	Fixed bug with captcha script (#346)
20-Dec-2006 Matthias Gallas
#	Fixed Return to Search Results Page (#365)
!	Set Version to 2.6.5
-	Removed Changeset 365 because this will be a part of WB 2.7.x
#	Fixed a little typo error in class.admin.php (#364)
26-Nov-2006 Ryan Djurovich
+	Added new script that could possibly be apart of 2.7.x as a replacement
	for having the pages directory 
17-Nov-2006 Matthias Gallas
#	Fixed fatal error in line 46 news/comment.php (thanks to eki)(#358)
15-Nov-2006 Matthias Gallas
#	Fixed again intropage doesn't work (#71)
20-Oct-2006 Matthias Gallas
+	Added phpmailer class (thanks to doc)
+	Added Remember-expanded-pages-in-admin (thanks to ephraimt)
+	Added List sorting in admin area (thanks to rsmith)
#	Fixed table width 100% are wrong displayed in container templates
	when IE is used (#350)
#	Fixed large space between menupoints in IE (#349)
#	Fixed Website description is not displayed when no page description
	available (#348)
#	Fixed group images in news modul cannot be stored (#342)
#	Fixed Typo in form/save_field.php (#341)
#	Fixed files in /pages/posts folder are not deleted (#340)
#	Fixed specialchars problem in the news modul (#339)
#	Fixed news modul stores empty records (#338)
#	Fixed Captcha didn't work in news comments (#337)
#	Fixed various php notices (#334)
+	Added new upgrade_function (thanks to kozmoz)
#	Fixed addons table isn't updated when a modul is updated (#332)
#	Fixed spelling errors in the signup2.php (#330)
#	Fixed MySQL 5.x missing default values for INT fields in all system
	and modules tables (#329)
#	Fixed installer does not insert admin user (#328)
+	Added support for getting page ID of page that referred search
	request (#327) (thanks to brofield)
#	Fixed search results generate invalid XHTML and notify warnings (#326)
Stefan Braunewell
#	Fixed Field 'last_reset' doesn't have a default value (#313)
+	Added get_post_escaped to wb class which automatically calls add_slashes
	on get_post output and used it in form/save_field.php
------------------------------------- 2.6.4 -------------------------------------
20-May-2006 Ryan Djurovich
#	Fixed security issues related to #237
#	Fixed typo in news save comment page (#282)
#	Fixed typo in news delete post page (#283)
!	Added multi-submission protection to form module (#119)
#	Added notice for when PHP Session Support appears to be disabled in installer,
	even if it is enabled and the problem actually lies in the users browser (#154)
19-May-2006 Ryan Djurovich
#	Fixed problem in forgotten login form where email field is too short (#207)
#	Fixed typo in forgotten login details email (#190)
15-May-2006 Stefan Braunewell
#	Fixed security issues (#237)
03-May-2006 Stefan Braunewell
#	Fixed problems with pre-2.6.0 modules in section list
#	Fixed e-mail bug caused by From: headers in internal mail function calls
	(#189)
#	E-mail validation in install script now accepts new top-level domains
	(#162)
#	Error status is now overwritten by next database query (#182)
#	Fixed obscure problem in htmlarea install script
------------------------------------- 2.6.3 -------------------------------------
19-Mar-2006 Stefan Braunewell
#	Fixed ticket #146: problems removing groups from viewers list of a page
16-Mar-2006 Stefan Braunewell
!	Changed link target selection. Now self, top and new. (Ticket #145)
#	Fixed ticket #143. Charset setting is now used in admin login and forgot
	password pages.
#	Some changes to the SQL code in the install script for improved 
	compatibility with new MySQL versions
#	Fixed ticket #134 - error on browsing media.
+	Improved backup module: new choice between full database or WB-related
	backup.
#	Fixed ticket #141 - admin now sees all folders in media
#	Fixed e-mail sending problems due to additional parameter in mail call.
#	Applied fix regarding ticket #138: new users now get deleted if
	sending e-mail fails.
#	Fixed ticket #137: Last Reset timer not reset in frontend forgotten 
	password process
#	Removed duplicate expression from modules/news/install.php which caused
	problems in installation

01-Mar-2006 Stefan Braunewell
#	Fixed ticket #68 - Safari problem with displaying all parents.
#	Fixed ticket #136 - mailing forgotten password in admin login screen leads 
	to fatal error.
!	Renamed tag [PROCESSTIME] to [PROCESS_TIME]
------------------------------------- 2.6.2 -------------------------------------
03-Feb-2006 Stefan Braunewell (very big special thanks to John and Alex)
#	Fixed ticket #104 - commas in form field descriptions not allowed.
#	Cookie REMEMBER_KEY wasn't cleared in account/logout 
	and expiration date is now set to time in the past.
#	Smart login not working.
!	Changed mail calls to new function $wb->mail.
#	Form: ticket 124 added captcha settings check 
#	Ticket 118 added formfield type to check for email/text 
#	Ticket 115 changed comparision /modules/form/view.php 
#	Added correct timecheck in form submissions
!	Changed captcha.php call to include timestamp
!	Changed the e-mail validation code and added a mail function to class wb.
!	Forgotten password: if sending of e-mail fails, restore old password.
	Ticket #110
!	Added more charset options. Ticket #102 - thanks to ruebenwurzel!
!	Character encoding setting also affects admin backend.
	Mentioned in ticket #102.
!	Reintroduced page languages setting. If switched to off, page
	languages are only used to determine the language file for the
	universal texts. If on, displayed page and menu are affected by
	the language session variable.
#	Fixed bugs in show_breadcrumbs code and added parameter "depth"
	to set the number of levels to be show.
#	Fixed a bug where access settings of registered and private pages
	were displayed incorrectly.
#	Fixed captcha being cached.
#	Added an exit call after every heading("Location:...")
	redirector to prevent unwanted execution of code.
#	Bug #122. Replaced empty field check by check that setting name is
	not "wb_version".
#	Replaced all remaining occurrences of '/media' by MEDIA_DIRECTORY - bug #108.
#	Fixed bug #99 and two additional instances of typo 
	catpcha instead of captcha.
#	Fixed some typos
#	Fixed some notices and warnings.
#	Fixed bug #105 - back buttons in addon detail pages not editable.
!	Replace 'admin' by 'wb' in all account pages. 
!/#	Moved print_success and print_error code to class.wb.php.
	Added correct parameters to these functions in account pages. 
------------------------------------- 2.6.1 -------------------------------------
12-Dec-2005 Ryan Djurovich
#	Fixed security vulnerability in class.login.php
#	Fixed typo in EN language file
#	Fixed captcha problems (when feature is disabled) in form module and sign-up
!	Added charset encoding to admin templates
!	Added extra code to check for selection of addon upon uninstalling
#	Fixed bugs in RSS news feeder
#	Fixed bug with PAGE_DESCRIPTION not being set on any page
------------------------------------- 2.6.0 -------------------------------------
28-Nov-2005 Ryan Djurovich
+	Added default charset option to (advanced) settings
#	Form module email fields now have email address validation
#	Fixed spacing in form submissions
27-Nov-2005 Ryan Djurovich
+	Added captcha verification to sign-up form
+	Added Captcha to News module
24-Nov-2005 Stefan Braunewell
!	Applied aportale's patch to use label instead of javascript toggle code
20-Nov-2005 Ryan Djurovich
!	News mod now hides read more link if no need for it (see ticket #56)
+	Added support for mailto: links in the menu link mod
#	Added direct-access redirection on some files (see ticket #37)
+	Added extra characters to convert.php (see ticket #64)
#	Fixed ticket #65 (last_reset check in account/forgot_form.php)
29-Sep-2005 Ryan Djurovich
!	Cleaned up form buttons in Settings
!	Moved some options into Advanced Settings
#	Semi-disabled "separate" page trash option
+	Created a backup module/tool for backing-up the database
	(thanks to John (pcwacht) for the original code)
+	Created new "blank template", which can be used in case where you don't
	want anything wrapping page-content.
19-Sep-2005 Ryan Djurovich
+	Added _license field for all add-ons to specify a license
!	Renamed _designed_for variables (for all addons) to _platform
+	Created addons table for faster internal referencing of installed addons
!	Fixed some links, including the "Help" button in Admin
#	Used nl2br to display body correctly when viewing form-submissions
15-Sep-2005 Stefan Braunewell
+	Added table module with columns 'name','type' and 'directory' as an
	index.
+	Added entry to settings table 'wb_version' which holds the version
	number and can be utilized in future upgrade scripts.
!	Added upgrade functionality also for templates and languages.
#/!	Template/modules installation now respects paths.
!	Moved updates from config.php to database.
	Created initialize.php (required by config.php) to read settings.
11-Sep-2005 Stefan Braunewell
!	HTMLArea is now a module instead of a core component. Files moved
	from "include" to "modules".
+	Implemented Installation of modules on top of an older version. This is 
	done via checking $module_version. Instead of install.php, upgrade.php
	is then called if it exists in the module package. 
	For module developers: $module_version and $new_module_version are 
	accessible in upgrade.php to find out what upgrade steps need to be taken.
!	Changed column names in mod_news_posts from short,long to content_short,
	content_long.
09-Sep-2005 Stefan Braunewell
+	Added new advanced setting "Rename Files On Upload". File extensions can be
	given so that respective files will have a ".txt" appended on media upload.
#	Fixed "None found" message bug when user has no top level page edit
	rights.
#	Fixed missing parent option 'none' - ticket #12 - and a minor scope bug.
+	Added breadcrumbs code. Call using $wb->breadcrumbs().
+	Added utf-8 character encoding meta tag into all stock templates.
#	Fixed bug when changing a page's parent
!	Changed the way blocks are treated. Added new frontend class attribute
	default_block_content that controls what is shown on pages such as
	search, login, etc. (Ticket #16)
+	Added support for WYSIWYG editor modules (wysiwygmod)
+	When trying to access a registered page, user is automatically redirected
	there on successful login.
#	Fixed various issues with system search (mainly related to stripslashes()
#	Removed stripslashes() in many places in the code. Added check for
	magic_quotes_gpc to new wb class method add_slashes(). Now database contest
	is independent of magic_quotes setting..
05-Sep-2005 Stefan Braunewell
#	Fixed bug concerning direct access of preferences page.
#	Reworked page visibility and menu item visibility code (frontend login
	problem).
#	Pages in link list in htmlarea popup are now correctly ordered.
#	Fixed bug where group with existing name can be added.
04-Sep-2005 Ryan Djurovich
+	Added and RSS newsfeed script to the News module
04-Sep-2005 Stefan Braunewell
!	Rewrote menu function. Parameters are now given as attributes to frontend class.
#	Fixed some occurrences of potential direct access path disclosure
#	Added directory check to browse.php to prevent xss exploit by trusted users.
!	Updated code to reflect move to Subversion repository system.
27-Aug-2005 Stefan Braunewell
#	Fixed bugs 4,5,6,8,9 in bug tracker
!	Removed 'USER_LANGUAGE' and 'GET_LANGUAGE' constants.
	A GET['lang'] now sets the session language variable.
26-Aug-2005 Stefan Braunewell
!	Moved redundant code into the new class functions. Created 
	'compatibility.php' for backward compatibility with
	modules and templates. Variables and functions can still be accessed
	in the old way.
!/+	Reorganized core frontend files, added new base class 'wb' from
	which 'admin' and the new 'frontend' class inherit. Moved all frontend
	function into new class. Completely rewrote core index.php.
	Now all variables and functions that are available to templates and
	modules are attributes and methods of the frontend and the wb classes
------------------------------------- 2.5.2 -------------------------------------
23-Jun-2005 Ryan Djurovich
!	create_access_file now creates all parent directories if needed
#	Fixed bug when moving page with subpages to another level
#	Fixed bug when saving "Settings" (in Admin) on Windows/IIS
#	Fixed bug where query was not setting error correctly in class.database.php
22-Jun-2005 Ryan Djurovich
#	Fixed bug where template permissions were not saved when a adding group
21-Jun-2005 Ryan Djurovich
#	Added htmlspecialchars for modifying WYSIWYG, news, etc. modules (Bug #78)
#	Fixed language problems in some area's of Admin. (Bug #70)
#	Added a space in website/page keywords (Bug #69)
#	Fixed bugs on settings2.php (Bug #52)
!	Links inserted with HTMLArea now use [wblink--PAGE_ID--] instead of raw URL
13-Jun-2005 Ryan Djurovich
#	Fixed bug (#88) with news module
!	Title of Administration login page now taken from language file (Bug #72)
#	Fixed redirection admin/home to admin/start on admin/index.php
#	Fixed bug with forgotten password page in admin (Bug #81)
25-Apr-2005 Ryan Djurovich
#	Fixed numerous bugs with module uninstallation
#	Fixed bug when uploading files in Administration -> Media
!	Installer no-longer requires you to accept the GNU GPL
------------------------------------- 2.5.1 -------------------------------------
16-Apr-2005 Ryan Djurovich
#	Fixed two bugs with account login/logout
------------------------------------- 2.5.1 -------------------------------------
15-Apr-2005 Ryan Djurovich
#	Fixed bug where non-english characters can get used in page filenames. Many
	measuers have been added (including a new file: wb/framework/convert.php),
	to prevent any possible errors that can occur in page filenames.
#	Fixed invalid meta tags in stock templates (meta tags were not closed)
#	Removed lines 401, 402, and 425 of wb/index.php - not needed
#	Fixed bug where search and account pages are shown in every block
	that is in a template
#	Fixed numerous bugs with media home directories feature
10-Apr-2005 Ryan Djurovich
#	Fixed bugs in account/login.php and logout.php where users
	gets redirected to /pages
------------------------------------- 2.5.0 -------------------------------------
08-Apr-2005 Ryan Djurovich
-	Removed section language feature
+	Added page language feature (replaces need for sections language feature)
#	Fixed bug where pages using menu_link module can have the URL changed
-	Page directory no longer stored in link field in pages table, it is now added
	when the page_link function is called - this makes changing the pages
	directory much easier and quicker
!	Pages with visibility of "none" are now no longer directly accessable
+	Added new visibility setting "hidden", acts exactly like none did previously
!	Template info file can now specify number of menu's available and relative names
!	Template info file can now specify number of blocks's available and relative names
------------------------------------- 2.4.3 -------------------------------------
07-Apr-2005 Ryan Djurovich
#	page_filename function has been rewritten using str_replace
	function, which should be faster and will allow characters
	from other languages into filenames
!	Created new media_filename function, which is now used
	by all media functions (create,upload,rename) to determine
	which characters should be removed from a desired filename
+	New button in Administration page list to view specific page
#	Updated the page_link function to now be compatible with menu link
	module when setting pages directory to root
#	Fixed bugs in search when using "Any Words" option
#	Fixed bug with news module when pages directory set to root
!	Changed URL of documentation website on Administration Start page
------------------------------------- 2.4.2 -------------------------------------
05-Apr-2005 Ryan Djurovich
#	Fixed bug where file could be renamed to nothing in Media
!	Optimised Media create folder, upload file, and rename functions
#	Fixed bug where stripslashes not run on news post titles in admin
05-Apr-2005 Stefan Braunewell
#	Fixed bug concerning usage of the private_sql variable
#	Fixed bug conerning sub-pages being displayed in menus incorrectly
------------------------------------- 2.4.1 -------------------------------------
04-Apr-2005 Ryan Djurovich
!	Pages with visibility of "none" are again directly accessable
#	Fixed bugs regarding renaming files and directories in Media section
!	When home folders disabled, all folders now visible in Media section
------------------------------------- 2.4.0 -------------------------------------
03-Apr-2005 Ryan Djurovich
-	Removed recently added visibility setting of "heading", and relative config vars
+	Added new "menu" field to pages table, and new setting "multiple menus"
	which replaces the need for the menu headings feature
+	Added links to top of groups and users sections, linking to each other
!	Change menu width in "Round" template to 170px (was 150px)
#	Change page "are you sure" deletion message to mention that it will delete
	all sub-pages as well
#	Fixed many bugs with news module when viewing posts by group
!	Pages with visibility of "none" are now no longer directly accessable
02-Apr-2005 Ryan Djurovich
-	Removed need to specify DB_URL when calling database class
#	Stopped fields without a type specified from being shown in form mod
#	Changed '/media' to MEDIA_DIRECTORY on HTMLArea popup windows
	for insert link and insert image
+	Added setting which allows you to specify the default WYSIWYG style
+	Added "Server Email" option, to specify what is used in "From" field when
	sending emails using the PHP mail function. Default is admins email address.
#	Search now excludes pages which have a visibility of none or heading
!	Pages are now given modified_when and modified_by when added
01-Apr-2005 Ryan Djurovich
+	Added option to News module to specify how many posts should be listed
	per page (by default it is set to unlimited, which functions like previous version)
#	Added stripslashes when display page titles in search
+	Page descriptions and last updated date now shown in search by default
30-Mar-2005 Ryan Djurovich
+	Added new feature for Media home folders, where a folder can be specified
	for a specific user or group of users only
!	Changed URL of Help button to http://www.websitebaker.org/docs/
+	Added new feature for "Page Trash" - two modes available: inline and separate
!	When pages are deleted, all sub-pages are now deleted (instead of being moved
	up a level)
29-Mar-2005 Ryan Djurovich
-	Removed Database Settings from Administration Settings (options will not be
	available in 3.x, so trying to match interface with WB 3.x plans
!	Changed the name of Path Settings to Filesystem Settings in Administration
	Settings, and removed ability to change path/url options - matching interface
	plans for WB 3.x
+	Added same options for OS and file permissions as installer to Settings
!	Sessions now named with APP_NAME.'_session_id' (e.g. default is wb_session_id)
28-Mar-2005 Ryan Djurovich
+	New functions available to templates to simplify creation of them. This aims
	to "future-proof" templates for WB 3.x plans.
!	Default templates updated to support some of the new functions
+	Added field to pages table "page_trail" which stores a list of the pages
	parents. This field was needed by the new page_menu function
+	Added option for page visibility "heading" to enabled support for multiple
	menu's. Also, this helps to "future-proof" templates for WB 3.x plans
+	Added option for page visibility "registered", which acts a little like
	private, but is still shown in the menu (although users need to log in to view
	the pages content)
+	Form module submissions now saved to database, and feature now added to
	limit number of submissions per hour to prevent spamming
+	New field for Form module: email. Allows you to specify their email in
	"from" field on module settings.
#	Fixed bug when displaying comments in News module (WB Bug #14)
+	New "under contruction" message if no pages exist
!	Cleaned-up wb/index.php
27-Mar-2005 Ryan Djurovich
+	Created advanced mkdir and chmod functions
#	Fixed bug in media where wrong file/folder is deleted
+	Complete overhall of installer - now only one step! It has been greatly
	simplified in many ways, has much better validation, reports error much more
	nicely, and automatically logs the user into the Administrations
+	Must now specify OS type - allows for customizable file permission settings
+	Sections can now have a language code assigned to them
+	Sections can now have a block name/id assigned to them
!	Home section of Administration renamed to Start, to save confusion with saying
	Homepage (because this term could either mean the main website or Home section
	in	Administration). Also, this aims to unify the interface with WB 3.x plans
!	Moved Users and Groups sections under Access section. This aims to unify the
	interface with WB 3.x plans, which help to unclutter the menu
!	Interface for Settings section has been imporved for usability purposes
#	Fixed HTMLArea where no scrollbar for "insert link" and "insert image" dialogs
	by placing media list inside an iframe
#	Fixed stripslashes problem for viewing news comments
!	Added code from Formesque module (an advanced version of the original Form
	module, modified by Rudolph Lartey from www.carbonect.com), and made further
	interface improvements for select box/checkbox group/radio group options.
#	Possibly fixed bugs where an S appears before file and dir modes
#	Fixed bug where users can be added with same emails (in Administration)
-	Removed support for PEAR, as it was deemed an unnecessary addition which only
	makes code more bulky, and removing it will decrease package size a lot
+	New "homepage redirect" option so first page is included and not redirected to
#	Fixed text not being shown when module uninstalled
!	Imporved interface for basic group permissions
26-Mar-2005 Stefan Braunewell
#	Fixed bug with front-end logins
#	Fixed bug when saving intro page 
+	Added check on sign-up if e-mail exists (thanks to P. Melief)
#	Fixed bugs concerning moving/deleting pages
#	Fixed list of parents in page settings
#	Fixed mkdir without mode parameter
#	Added a check on install to ensure PHP 4.1.x compatibility (thanks to Wanderer)
+	Added support for PAGES_DIRECTORY set to root
+	Search form now supports quotes (thanks to Manafta)
#	Fixed page section ordering
#	News items are displayed with name of poster instead of "Unknown"
#	Deletion confirmation popup window in media section now shows correct file name
------------------------------------- 2.3.1 -------------------------------------
03-Fed-2005 Ryan Djurovich
+	Now there is two types of "filesystem modes", one for directories and one
	for files. Having different settings is very common for most servers, so
	this addition should fix many problems people had with 2.3.0.
-	Removed filesystem mode options from installation
!	Removed duplicate text on installation step 3 for timezone
!	All "access files" for the news module now stored in pages/posts instead
	of a sub-dir relative to the page (this fixes many bugs)
#	Fixed major bugs when deleting pages with sub-pages
!	Removed the restrictions that prevent a user for changing a pages level
#	Fixed bug with "toggle" plus/minus in IE for pages list
#	Fixed some bugs where /pages was not replaced with PAGES_DIRECTORY constant
------------------------------------- 2.3.0 -------------------------------------
26-Jan-2005 Ryan Djurovich
#	Fixed bug in framework/functions.php that made root parent always equal 8
#	Added missing braces in lines 182 and 208 of admin/pages/settings2.php
#	Fixed SQL-query on line 172, placing a / after $old_link
#	Added eregi checks for PAGES_DIRECTORY on lines 140 and 150 of
	admin/pages/settings2.php
#	Added ordering cleaning to delete_post.php on line 53 for news module
!	GMT option is selected for "Default Timezone" in the installer, instead
	of the old "Please select" message (which had the same value as GMT)
28-Jan-2005 Ryan Djurovich
!	Ability to specify the chmod number when WB uploads files, etc.
!	Modified file headers (copyright/license notice) so they now look almost the
	same, independant of font. Also, it now covers copyright for 2005.
30-Jan-2005 Ryan Djurovich
#	Added code on wb/admin/pages/delete.php to remove sections from the sections
	table when a page is deleted.
+	New 'Smart Login' prevents users from using external password managers,
	and can be set to remember the users password using cookies.
!	SourceForge CVS module now called websitebaker2 (instead of just
	websitebaker). Also, all file versions have been reset.
01-Fed-2005 Ryan Djurovich
!	Added code to prevent from changing a pages level (it simply disables
	the select box), to prevent many possible bugs.
------------------------------------- 2.2.4 -------------------------------------
23-Dec-2004 Ryan Djurovich
!	Change 'EXACT_PHRASE' to 'EXACT_MATCH' on line 261 of wb/languages/EN.php
#	Fixed multi-language support in search
+	Added more detailed options to list of PHP error reporting level's
-	Removed ability to change language and PHP error reporting level
	on installation to make things easier for newbie's
+	Ability to select custom spacer for page filename's
!	Changed the way a language code is found on language installation
+	Added template permissions to groups
#	Fixed bug when trying to change email from Preferences (admin and frontend)
#	Fixed bug with auto-selection of "System Default" for Preferences
!	News module now use's WYSIWYG for modifying news posts
+	Ability to specify both the pages and media target directories
------------------------------------ 2.2.3-c ------------------------------------
22-Dec-2004 Ryan Djurovich
#	Fixed problem with DB password being reset if Settings saved in basic mode
------------------------------------ 2.2.3-b ------------------------------------
21-Dec-2004 Ryan Djurovich
#	Fixed minor bug on admin templates section
#	Fixed bug on rename.php and rename2.php in admin media section
------------------------------------- 2.2.3 -------------------------------------
20-Dec-2004 Ryan Djurovich
+	Added WB release version in Administration (top right corner)
!	New option to prevent users from adding level 0 pages
#	Fixed bug when deleting post's in News module
+	Added new field in pages table for "root" parent (level 0 parent), for
	extra flexability in creating templates
!	Round template now supports unlimited page levels
------------------------------------- 2.2.2 -------------------------------------
18-Dec-2004 Ryan Djurovich
+	New option under Search Settings for selecting custom template for search
+	New option when changing page settings to set the target
#	Fixed error when saving a user after editing
!	Users can now modify sub-page if they dont have permissions on the parent
------------------------------------- 2.2.1 -------------------------------------
15-Dec-2004 Ryan Djurovich
#	Fixed bug when changing password on preferences form (front-end)
#	Fixed bug when retrieving user details (administration)
#	Added check to see if module, template, or language is in use when deleting
#	Fixed up email that is sent to user from a submitted form
#	Fixed major problem with module permissions which stopped it from working
------------------------------------- 2.2.0 -------------------------------------
14-Dec-2004 (Correct date[s] unkown) Ryan Djurovich
+	Multiple-level page support
+	Multiple section's for pages (including interface)
!	Removed text created using two words on all areas
	(e.g. {Intro} {PAGE} is now {INTRO_PAGE})
	this is for better language support
+	Added Languages section
!	Moved Templates and Modules under Add-ons section
!	Changed name of "Default" template to "Round"
+	Added "All CSS" template
+	Added "Jump"
+	Added 
!	Modified "Box" template to support multiple page levels
+	Added "Menu Link" module
+	Added "News" module
+	Added "Code" module
+	Added "Form" module
+	Added "Wrapper" module
!	Changed name of "Normal Page" module to "WYSIWYG"
+	Created new admin wrapper script to ease module develpment
+	Media now automatically creates index.php file for every
	sub-folder made (for security purposes)
!	Change "Help" link in Administration menu so it now directs
	to the the new Website Baker documentation website found at:
	http://www.websitebaker.org/documentation
!	Password is now required to change email in preferences
+	User can now select custom Language and Date & Time Formats
+	Added search functionality, with three different "methods":
	1. Using all words  2. Using any words  3. Exact match
+	Added native MySQL database support
